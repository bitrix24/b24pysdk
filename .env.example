# Bitrix24 environment template for integration tests
# Copy this file to .env and fill in the values.

# Common portal domain (without scheme)
B24_DOMAIN=your-portal.bitrix24.com

# Preferred auth type for tests: webhook or oauth (default: webhook)
B24_PREFER=webhook

# --- Webhook auth ---
# Incoming webhook in the form "<user_id>/<hook_key>"
# Docs: https://apidocs.bitrix24.com/local-integrations/local-webhooks.html
B24_WEBHOOK=123/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --- OAuth application auth ---
# Docs: https://apidocs.bitrix24.com/api-reference/oauth/index.html
B24_CLIENT_ID=your_app_code
B24_CLIENT_SECRET=your_app_secret
B24_ACCESS_TOKEN=your_access_token
# Optional for tests that avoid refresh
B24_REFRESH_TOKEN=your_refresh_token

# Usage (dev container):
#   make build-dev
#   docker run --rm --env-file ./.env -v "$PWD:/work" -w /work b24pysdk-dev \
#     bash -lc "pip install -e .[test] && pytest -q -m integration"
